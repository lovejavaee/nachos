<HTML><TITLE>boundedbuffer.h</TITLE>
<!-- Created by nachos-to-html utility -->
<!-- Written by Benjamin Atkin for COMP305 -->
<BODY BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#0000FF"
ALINK="#FF0000">
<TABLE><TR>
<TD><A HREF="http://www.mcs.vuw.ac.nz/courses/COMP305/2004T1/Nachos/RoadMap/"><IMG SRC="http://www.mcs.vuw.ac.nz/courses/COMP305/2004T1/Images/Cap.jpg" BORDER=0 ALT="[image]"></A>
</TR></TABLE>
<TABLE WIDTH="100%">
<TR VALIGN=TOP><TD><B>Comp 305 Lab 1</B><BR><H1>boundedbuffer.h</H1><TD ALIGN=RIGHT><I>/home/lido1/petriedavi/305Comp/project2/nachos/html/
<BR>Fri Apr  4 12:09:11 NZDT 2008


</I></TABLE><HR SIZE=2 NOSHADE>
<PRE>
<FONT COLOR="#990000">// David Petrie<FONT COLOR="#000000">
<FONT COLOR="#990000">// 300148086<FONT COLOR="#000000">
<FONT COLOR="#990000">//<FONT COLOR="#000000">
<FONT COLOR="#990000">// Header file for BoundedBuffer.cc (see that file<FONT COLOR="#000000">
<FONT COLOR="#990000">// for documentation).<FONT COLOR="#000000">

<FONT COLOR="#007700">#include "<A HREF="list_h.html">list.h</A>"<FONT COLOR="#000000">
<FONT COLOR="#007700">#include "<A HREF="synch_h.html">synch.h</A>"<FONT COLOR="#000000">

<A NAME="BoundedBuffer"></A>class BoundedBuffer {
  public:
    <A HREF="boundedbuffer_cc.html#BoundedBuffer.BoundedBuffer">BoundedBuffer</A>(int c);	
    ~<A HREF="boundedbuffer_cc.html#BoundedBuffer.~BoundedBuffer">BoundedBuffer</A>();

    void <A HREF="boundedbuffer_cc.html#BoundedBuffer.Append">Append</A>(char *item);
    char *<A HREF="boundedbuffer_cc.html#BoundedBuffer.Take">Take</A>();

  private:
    char* <A NAME="BoundedBuffer.buffer">buffer</A>;
    int <A NAME="BoundedBuffer.in">in</A>, <A NAME="BoundedBuffer.out">out</A>;
    int <A NAME="BoundedBuffer.capacity">capacity</A>;      <FONT COLOR="#990000">// capacity of the bounded buffer.<FONT COLOR="#000000">
    int <A NAME="BoundedBuffer.itemCount">itemCount</A>;     <FONT COLOR="#990000">// total items in the bounded buffer<FONT COLOR="#000000">
    int <A NAME="BoundedBuffer.inCS">inCS</A>;          <FONT COLOR="#990000">// count of items in critical section (should be 0 or 1)<FONT COLOR="#000000">
    <A HREF="synch_h.html#Lock">Lock</A> *<A NAME="BoundedBuffer.mutex">mutex</A>;
    <A HREF="synch_h.html#Condition">Condition</A> *<A NAME="BoundedBuffer.empty">empty</A>;  <FONT COLOR="#990000">// wait in Remove if the list is empty<FONT COLOR="#000000">
    <A HREF="synch_h.html#Condition">Condition</A> *<A NAME="BoundedBuffer.full">full</A>;   <FONT COLOR="#990000">// wait in Append if the list is FULL.<FONT COLOR="#000000">
};
</PRE>
</BODY></HTML>